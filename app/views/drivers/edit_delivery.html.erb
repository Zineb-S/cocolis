
<%= render 'layouts/drivernav' %>
<%= form_for(@delivery, url: update_driver_delivery_path(@delivery), html: { class: "space-y-8 max-w-4xl mx-auto mt-10 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4" }) do |f| %>
  <!-- Assuming you have error handling here -->

  <div class="mb-4">
    <%= f.label :client_email, class: "block text-gray-700 text-sm font-bold mb-2" %>
    <%= f.text_field :client_email, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
  </div>

  <div class="mb-4">
    <%= f.label :total, class: "block text-gray-700 text-sm font-bold mb-2" %>
    <%= f.number_field :total, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
  </div>

  <div class="mb-4">
    <%= f.label :address, class: "block text-gray-700 text-sm font-bold mb-2" %>
    <%= f.text_field :address, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
  </div>

  <!-- Package Details Section -->
  <h3 class="text-xl font-semibold mb-4">Package Details</h3>
  <%= f.fields_for :delivery_packages do |dp_fields| %>
    <div class="flex flex-wrap -mx-3 mb-6">
      <div class="w-full px-3 mb-6 md:mb-0">
        <%= dp_fields.label :package_id, "Select Package", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.collection_select :package_id, Package.all, :id, :name, { include_blank: true }, { class: "block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline" } %>
      </div>

      <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
        <%= dp_fields.label :departureCity, "Departure City", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.text_field :departureCity, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

      <div class="w-full md:w-1/2 px-3">
        <%= dp_fields.label :destinationCity, "Destination City", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.text_field :destinationCity, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

      <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
        <%= dp_fields.label :departureDate, "Departure Date", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.date_field :departureDate, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

      <div class="w-full md:w-1/2 px-3">
        <%= dp_fields.label :arrivalDate, "Arrival Date", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.date_field :arrivalDate, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

      <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
        <%= dp_fields.label :quantity, "Quantity", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.number_field :quantity, min: 0, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

      <div class="w-full md:w-1/2 px-3">
        <%= dp_fields.label :weight, "Weight (kg)", class: "block text-gray-700 text-sm font-bold mb-2" %>
        <%= dp_fields.text_field :weight, class: "shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" %>
      </div>

    </div>
  <% end %>

  <%= f.submit "Update Delivery", class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
<% end %>
